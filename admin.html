<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸²æŸ“æ–‡åŒ– - ç®¡ç†åå°</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: #0a0a0a; 
            color: #fff; 
            min-height: 100vh;
            line-height: 1.6;
        }
        .login-box {
            max-width: 400px;
            margin: 100px auto;
            padding: 40px;
            background: #111;
            border: 1px solid #222;
            border-radius: 8px;
        }
        .login-box h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 24px;
        }
        .login-box h1 span {
            color: #d4a55c;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #888;
        }
        .form-group input {
            width: 100%;
            padding: 12px;
            background: #1a1a1a;
            border: 1px solid #333;
            color: #fff;
            border-radius: 4px;
            font-size: 14px;
        }
        .form-group input:focus {
            outline: none;
            border-color: #d4a55c;
        }
        .btn {
            width: 100%;
            padding: 14px;
            background: #d4a55c;
            color: #000;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }
        .btn:hover {
            opacity: 0.9;
        }
        .error {
            color: #ff4444;
            font-size: 14px;
            margin-top: 15px;
            text-align: center;
            display: none;
        }
        .admin-panel {
            display: none;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #222;
        }
        .admin-header h2 {
            font-size: 20px;
        }
        .admin-header h2 span {
            color: #d4a55c;
        }
        .logout-btn {
            padding: 8px 20px;
            background: transparent;
            border: 1px solid #444;
            color: #888;
            cursor: pointer;
            border-radius: 4px;
        }
        .logout-btn:hover {
            border-color: #ff4444;
            color: #ff4444;
        }
        .card {
            background: #111;
            border: 1px solid #222;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
        }
        .card h3 {
            font-size: 16px;
            color: #d4a55c;
            margin-bottom: 20px;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        textarea {
            width: 100%;
            padding: 12px;
            background: #1a1a1a;
            border: 1px solid #333;
            color: #fff;
            border-radius: 4px;
            font-size: 14px;
            min-height: 100px;
            resize: vertical;
            font-family: inherit;
        }
        textarea:focus {
            outline: none;
            border-color: #d4a55c;
        }
        .works-list {
            margin-top: 20px;
        }
        .work-item {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background: #1a1a1a;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .work-thumb {
            width: 160px;
            height: 90px;
            background: #222;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 12px;
            overflow: hidden;
        }
        .work-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .work-info {
            flex: 1;
        }
        .work-info h4 {
            font-size: 16px;
            margin-bottom: 5px;
        }
        .work-info p {
            font-size: 13px;
            color: #888;
            margin-bottom: 3px;
        }
        .work-actions {
            display: flex;
            gap: 10px;
        }
        .btn-small {
            padding: 8px 16px;
            font-size: 13px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .btn-edit {
            background: #d4a55c;
            color: #000;
        }
        .btn-delete {
            background: transparent;
            border: 1px solid #ff4444;
            color: #ff4444;
        }
        .add-work-btn {
            width: 100%;
            padding: 20px;
            background: transparent;
            border: 2px dashed #333;
            color: #888;
            cursor: pointer;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
        }
        .add-work-btn:hover {
            border-color: #d4a55c;
            color: #d4a55c;
        }
        .token-section {
            background: #0f0f0f;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        .token-section h4 {
            margin-bottom: 15px;
            color: #d4a55c;
        }
        .token-section input {
            width: 100%;
            padding: 12px;
            background: #1a1a1a;
            border: 1px solid #333;
            color: #fff;
            border-radius: 4px;
            margin-bottom: 15px;
        }
        .token-section p {
            font-size: 12px;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.8;
        }
        .publish-btn {
            background: #2ea043;
            color: #fff;
        }
        .publish-btn:hover {
            background: #3fb950;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal.active {
            display: flex;
        }
        .modal-content {
            background: #111;
            border: 1px solid #333;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            padding: 30px;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .modal-close {
            background: none;
            border: none;
            color: #888;
            font-size: 24px;
            cursor: pointer;
        }
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: #d4a55c;
            color: #000;
            border-radius: 4px;
            font-weight: 500;
            transform: translateX(150%);
            transition: transform 0.3s;
            z-index: 10000;
        }
        .toast.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <!-- ç™»å½•ç•Œé¢ -->
    <div id="loginScreen">
        <div class="login-box">
            <h1>æ¸²æŸ“<span>æ–‡åŒ–</span></h1>
            <div class="form-group">
                <label>å¯†ç </label>
                <input type="password" id="passwordInput" placeholder="è¯·è¾“å…¥å¯†ç ">
            </div>
            <button class="btn" onclick="doLogin()">ç™»å½•</button>
            <p class="error" id="errorMsg">å¯†ç é”™è¯¯</p>
        </div>
    </div>

    <!-- ç®¡ç†ç•Œé¢ -->
    <div id="adminPanel" class="admin-panel">
        <div class="admin-header">
            <h2>æ¸²æŸ“<span>æ–‡åŒ–</span> - ç®¡ç†åå°</h2>
            <button class="logout-btn" onclick="doLogout()">é€€å‡ºç™»å½•</button>
        </div>

        <!-- ä½œå“ç®¡ç† -->
        <div class="card">
            <h3>ä½œå“ç®¡ç†</h3>
            <button class="add-work-btn" onclick="openAddModal()">+ æ·»åŠ æ–°ä½œå“</button>
            <div class="works-list" id="worksList">
                <!-- ä½œå“åˆ—è¡¨ -->
            </div>
        </div>

        <!-- å…¬å¸ä¿¡æ¯ -->
        <div class="card">
            <h3>å…¬å¸ä¿¡æ¯</h3>
            <div class="form-group">
                <label>å…¬å¸åç§°</label>
                <input type="text" id="companyName" value="æˆéƒ½æ¸²æŸ“æ–‡åŒ–ä¼ åª’æœ‰é™å…¬å¸">
            </div>
            <div class="form-group">
                <label>å“ç‰Œå£å·</label>
                <input type="text" id="companyTagline" value="ç”¨ç”µå½±è¯­è¨€è®²è¿°å“ç‰Œæ•…äº‹">
            </div>
            <div class="form-group">
                <label>å…¬å¸ç®€ä»‹</label>
                <textarea id="companyDesc">æˆéƒ½æ¸²æŸ“æ–‡åŒ–ä¼ åª’æœ‰é™å…¬å¸ï¼Œæˆç«‹äº2019å¹´ï¼Œæ˜¯ä¸€å®¶ä¸“æ³¨äºå½±åƒåˆ›ä½œçš„ä¸“ä¸šå›¢é˜Ÿã€‚</textarea>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>å¹´æ•°</label>
                    <input type="text" id="statYears" value="5+">
                </div>
                <div class="form-group">
                    <label>é¡¹ç›®æ•°</label>
                    <input type="text" id="statProjects" value="200+">
                </div>
            </div>
            <div class="form-group">
                <label>è·èµæ”¶è—</label>
                <input type="text" id="statLikes" value="2.5ä¸‡+">
            </div>
        </div>

        <!-- è”ç³»æ–¹å¼ -->
        <div class="card">
            <h3>è”ç³»æ–¹å¼</h3>
            <div class="form-row">
                <div class="form-group">
                    <label>ç”µè¯</label>
                    <input type="text" id="contactPhone" value="185 8249 3173">
                </div>
                <div class="form-group">
                    <label>å¾®ä¿¡</label>
                    <input type="text" id="contactWechat" placeholder="ä½ çš„å¾®ä¿¡å·">
                </div>
            </div>
            <div class="form-group">
                <label>é‚®ç®±</label>
                <input type="email" id="contactEmail" placeholder="ä½ çš„é‚®ç®±">
            </div>
        </div>

        <!-- å‘å¸ƒç½‘ç«™ -->
        <div class="token-section">
            <h4>å‘å¸ƒç½‘ç«™</h4>
            <p>
                è¾“å…¥ GitHub Token åç‚¹å‡»å‘å¸ƒï¼Œå³å¯è‡ªåŠ¨æ›´æ–°ç½‘ç«™ã€‚<br>
                è·å–æ–¹å¼ï¼šGitHub Settings â†’ Developer settings â†’ Personal access tokens â†’ Generate new token â†’ å‹¾é€‰ "repo" æƒé™
            </p>
            <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxx">
            <button class="btn publish-btn" onclick="publishWebsite()">ğŸš€ å‘å¸ƒç½‘ç«™</button>
        </div>
    </div>

    <!-- æ·»åŠ ä½œå“å¼¹çª— -->
    <div class="modal" id="addModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>æ·»åŠ ä½œå“</h3>
                <button class="modal-close" onclick="closeModal()">Ã—</button>
            </div>
            <div class="form-group">
                <label>ä½œå“æ ‡é¢˜</label>
                <input type="text" id="workTitle" placeholder="ä¾‹å¦‚ï¼š361Â° å“ç‰Œ TVC">
            </div>
            <div class="form-group">
                <label>ä½œå“æè¿°</label>
                <input type="text" id="workDesc" placeholder="ç®€çŸ­æè¿°">
            </div>
            <div class="form-group">
                <label>Bç«™è§†é¢‘é“¾æ¥</label>
                <input type="text" id="workVideo" placeholder="https://b23.tv/xxxxx">
            </div>
            <div class="form-group">
                <label>å°é¢å›¾ç‰‡ URL</label>
                <input type="text" id="workImage" placeholder="https://...">
            </div>
            <button class="btn" onclick="saveWork()">ä¿å­˜</button>
        </div>
    </div>

    <!-- Toast æç¤º -->
    <div class="toast" id="toast"></div>

    <script>
        // æ•°æ®
        var worksData = [
            {
                id: 1,
                title: 'ã€æˆ‘ç”¨GH6æ‹äº†ä¸€éƒ¨è’é‡å¤§é•–å®¢ã€‘',
                desc: '361Â° å“ç‰Œ TVC',
                videoUrl: 'https://b23.tv/xi4SUa1',
                bvid: 'BV1Zf421i7zq',
                image: 'images/work-361.jpg'
            }
        ];

        // ç™»å½•
        function doLogin() {
            var password = document.getElementById('passwordInput').value;
            if (password === 'xuanran2024') {
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                loadWorksList();
                showToast('ç™»å½•æˆåŠŸ');
            } else {
                document.getElementById('errorMsg').style.display = 'block';
            }
        }

        // é€€å‡º
        function doLogout() {
            document.getElementById('loginScreen').style.display = 'block';
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('passwordInput').value = '';
            document.getElementById('errorMsg').style.display = 'none';
        }

        // åŠ è½½ä½œå“åˆ—è¡¨
        function loadWorksList() {
            var list = document.getElementById('worksList');
            var html = '';
            for (var i = 0; i < worksData.length; i++) {
                var work = worksData[i];
                html += '<div class="work-item">';
                html += '<div class="work-thumb">';
                if (work.image) {
                    html += '<img src="' + work.image + '" alt="' + work.title + '" onerror="this.style.display=\'none\'; this.parentNode.innerText=\'[æ— å›¾ç‰‡]\'">';
                } else {
                    html += '[æ— å°é¢]';
                }
                html += '</div>';
                html += '<div class="work-info">';
                html += '<h4>' + work.title + '</h4>';
                html += '<p>' + work.desc + '</p>';
                html += '<p style="font-size:12px;color:#666;">' + work.videoUrl + '</p>';
                html += '</div>';
                html += '<div class="work-actions">';
                html += '<button class="btn-small btn-delete" onclick="deleteWork(' + work.id + ')">åˆ é™¤</button>';
                html += '</div>';
                html += '</div>';
            }
            list.innerHTML = html;
        }

        // æ‰“å¼€æ·»åŠ å¼¹çª—
        function openAddModal() {
            document.getElementById('addModal').classList.add('active');
        }

        // å…³é—­å¼¹çª—
        function closeModal() {
            document.getElementById('addModal').classList.remove('active');
            document.getElementById('workTitle').value = '';
            document.getElementById('workDesc').value = '';
            document.getElementById('workVideo').value = '';
            document.getElementById('workImage').value = '';
        }

        // ä¿å­˜ä½œå“
        function saveWork() {
            var title = document.getElementById('workTitle').value;
            var desc = document.getElementById('workDesc').value;
            var videoUrl = document.getElementById('workVideo').value;
            var image = document.getElementById('workImage').value;

            if (!title || !videoUrl) {
                showToast('è¯·å¡«å†™æ ‡é¢˜å’Œè§†é¢‘é“¾æ¥');
                return;
            }

            // æå–BVå·
            var bvid = '';
            var match = videoUrl.match(/BV[a-zA-Z0-9]+/);
            if (match) {
                bvid = match[0];
            } else {
                showToast('æ— æ³•è¯†åˆ«Bç«™é“¾æ¥');
                return;
            }

            var newWork = {
                id: Date.now(),
                title: title,
                desc: desc,
                videoUrl: videoUrl,
                bvid: bvid,
                image: image
            };

            worksData.push(newWork);
            loadWorksList();
            closeModal();
            showToast('æ·»åŠ æˆåŠŸ');
        }

        // åˆ é™¤ä½œå“
        function deleteWork(id) {
            if (confirm('ç¡®å®šåˆ é™¤è¿™ä¸ªä½œå“å—ï¼Ÿ')) {
                worksData = worksData.filter(function(w) { return w.id !== id; });
                loadWorksList();
                showToast('å·²åˆ é™¤');
            }
        }

        // æ˜¾ç¤ºæç¤º
        function showToast(msg) {
            var toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.classList.add('show');
            setTimeout(function() {
                toast.classList.remove('show');
            }, 3000);
        }

        // å‘å¸ƒç½‘ç«™
        function publishWebsite() {
            var token = document.getElementById('githubToken').value;
            if (!token) {
                showToast('è¯·è¾“å…¥ GitHub Token');
                return;
            }
            showToast('å‡†å¤‡å‘å¸ƒ...');
            
            // ç”ŸæˆHTMLä»£ç 
            generateAndPublish(token);
        }

        // ç”Ÿæˆå¹¶å‘å¸ƒ
        function generateAndPublish(token) {
            // è·å–è¡¨å•æ•°æ®
            var companyName = document.getElementById('companyName').value;
            var companyTagline = document.getElementById('companyTagline').value;
            var companyDesc = document.getElementById('companyDesc').value;
            var statYears = document.getElementById('statYears').value;
            var statProjects = document.getElementById('statProjects').value;
            var statLikes = document.getElementById('statLikes').value;
            var contactPhone = document.getElementById('contactPhone').value;
            var contactWechat = document.getElementById('contactWechat').value;
            var contactEmail = document.getElementById('contactEmail').value;

            // ç”Ÿæˆä½œå“HTML
            var worksHtml = '';
            for (var i = 0; i < worksData.length; i++) {
                var work = worksData[i];
                worksHtml += '<div class="work-item" style="background-image:url(' + "'" + (work.image || '') + "'" + ');" onclick="openVideo(' + "'" + work.bvid + "'" + ')">';
                worksHtml += '<div class="work-info"><h4>' + (work.desc || work.title) + '</h4><p>ç‚¹å‡»æ’­æ”¾ â†’</p></div>';
                worksHtml += '</div>';
            }

            // æ„å»ºå®Œæ•´HTMLï¼ˆç®€åŒ–ç‰ˆï¼‰
            var htmlContent = buildWebsiteHTML({
                companyName: companyName,
                tagline: companyTagline,
                description: companyDesc,
                years: statYears,
                projects: statProjects,
                likes: statLikes,
                phone: contactPhone,
                wechat: contactWechat,
                email: contactEmail,
                worksHtml: worksHtml
            });

            // ä¸Šä¼ åˆ° GitHub
            uploadToGitHub(token, htmlContent);
        }

        // æ„å»ºç½‘ç«™HTML
        function buildWebsiteHTML(data) {
            return `<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>${data.companyName}</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a0a0a;--card:#111;--text:#fff;--text2:#888;--accent:#d4a55c;--border:#222}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','PingFang SC','Microsoft YaHei',sans-serif;background:var(--bg);color:var(--text)}
nav{position:fixed;top:0;width:100%;padding:1.5rem 5%;display:flex;justify-content:space-between;align-items:center;z-index:1000;background:linear-gradient(to bottom,rgba(10,10,10,0.9),transparent)}
.logo{font-size:1.5rem;font-weight:700;letter-spacing:2px}.logo span{color:var(--accent)}
.nav-links{display:flex;gap:2.5rem;list-style:none}.nav-links a{color:var(--text2);text-decoration:none;font-size:0.9rem;transition:color 0.3s}.nav-links a:hover{color:var(--accent)}
.hero{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background:radial-gradient(ellipse at 20% 80%,rgba(212,165,92,0.1) 0%,transparent 50%),var(--bg)}
.hero h1{font-size:clamp(3rem,8vw,6rem);font-weight:700;letter-spacing:0.2em;background:linear-gradient(135deg,#fff 0%,#888 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero .subtitle{font-size:1.2rem;color:var(--accent);letter-spacing:0.5em;margin:1rem 0 2rem}
.hero p{color:var(--text2);max-width:600px;margin:0 auto 3rem;font-weight:300}
.btn{display:inline-block;padding:1rem 3rem;border:1px solid var(--accent);color:var(--accent);text-decoration:none;font-size:0.9rem;letter-spacing:0.2em;transition:all 0.3s}.btn:hover{background:var(--accent);color:var(--bg)}
.about{padding:10rem 5%;background:var(--card)}.container{max-width:1200px;margin:0 auto}
.section-title{font-size:0.75rem;color:var(--accent);letter-spacing:0.3em;margin-bottom:1rem}
.section-heading{font-size:clamp(2rem,5vw,3rem);font-weight:700;margin-bottom:3rem}
.about-content{display:grid;grid-template-columns:1fr 1fr;gap:5rem;align-items:center}
.about-text p{color:var(--text2);font-size:1rem;line-height:2;margin-bottom:1.5rem}
.stats{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-top:3rem}
.stat-item h3{font-size:2.5rem;color:var(--accent);font-weight:700}
.stat-item p{font-size:0.8rem;color:var(--text2)}
.works{padding:10rem 5%}.works-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem}
.work-item{aspect-ratio:16/9;background:var(--card);background-size:cover;background-position:center;border:1px solid var(--border);position:relative;overflow:hidden;cursor:pointer;transition:all 0.3s}
.work-item::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to top,rgba(0,0,0,0.8),transparent);opacity:0;transition:opacity 0.3s}
.work-item:hover::before{opacity:1}.work-item:hover{border-color:var(--accent);transform:translateY(-5px)}
.work-info{position:absolute;bottom:0;left:0;right:0;padding:1.5rem;transform:translateY(100%);transition:transform 0.3s}
.work-item:hover .work-info{transform:translateY(0)}.work-info h4{font-size:1rem;margin-bottom:0.3rem}.work-info p{font-size:0.75rem;color:var(--text2)}
.services{padding:10rem 5%;background:var(--card)}.services-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:2rem}
.service-item{padding:2.5rem;background:var(--bg);border:1px solid var(--border)}
.service-number{font-size:0.75rem;color:var(--accent);margin-bottom:1rem}.service-item h3{font-size:1.1rem;margin-bottom:1rem}.service-item p{font-size:0.85rem;color:var(--text2);line-height:1.8}
.contact{padding:10rem 5%;text-align:center}.contact-content{max-width:600px;margin:0 auto}
.contact-info{margin-top:3rem;display:flex;justify-content:center;gap:4rem}.contact-item h4{font-size:0.7rem;color:var(--text2);letter-spacing:0.2em;margin-bottom:0.5rem}.contact-item p{font-size:1rem}
footer{padding:3rem 5%;background:var(--card);border-top:1px solid var(--border);text-align:center}footer p{color:var(--text2);font-size:0.8rem}
@media(max-width:1024px){.about-content{grid-template-columns:1fr}.works-grid{grid-template-columns:repeat(2,1fr)}.services-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:768px){.nav-links{display:none}.works-grid,.services-grid{grid-template-columns:1fr}.stats{grid-template-columns:1fr;text-align:center}.contact-info{flex-direction:column;gap:2rem}}
</style>
</head>
<body>
<nav><div class="logo">æ¸²æŸ“<span>.</span></div><ul class="nav-links"><li><a href="#about">å…³äº</a></li><li><a href="#works">ä½œå“</a></li><li><a href="#services">æœåŠ¡</a></li><li><a href="#contact">è”ç³»</a></li></ul></nav>
<section class="hero"><div class="hero-content"><h1>${data.companyName.split('æœ‰é™å…¬å¸')[0]}</h1><div class="subtitle">XUANRAN CULTURE</div><p>${data.tagline}<br>${data.description.split('ã€‚')[0]}</p><a href="#works" class="btn">æŸ¥çœ‹ä½œå“</a></div></section>
<section class="about" id="about"><div class="container"><div class="section-title">ABOUT US</div><h2 class="section-heading">å…³äºæˆ‘ä»¬</h2><div class="about-content"><div class="about-text"><p>${data.description}</p><div class="stats"><div class="stat-item"><h3>${data.years}</h3><p>å¹´è¡Œä¸šç»éªŒ</p></div><div class="stat-item"><h3>${data.projects}</h3><p>å®Œæˆé¡¹ç›®</p></div><div class="stat-item"><h3>${data.likes}</h3><p>è·èµæ”¶è—</p></div></div></div><div style="aspect-ratio:4/3;background:var(--card);display:flex;align-items:center;justify-content:center;color:var(--text2)">[å›¢é˜Ÿå½¢è±¡ç…§]</div></div></div></section>
<section class="works" id="works"><div class="container"><div class="section-title">SELECTED WORKS</div><h2 class="section-heading">ç²¾é€‰ä½œå“</h2><div class="works-grid">${data.worksHtml}</div></div></section>
<section class="services" id="services"><div class="container"><div class="section-title">SERVICES</div><h2 class="section-heading">æœåŠ¡èŒƒå›´</h2><div class="services-grid"><div class="service-item"><div class="service-number">01</div><h3>TVCå¹¿å‘Šç‰‡</h3><p>å“ç‰Œç”µè§†å¹¿å‘Šã€ç½‘ç»œå¹¿å‘Šåˆ›æ„æ‹æ‘„</p></div><div class="service-item"><div class="service-number">02</div><h3>å“ç‰Œå®£ä¼ ç‰‡</h3><p>ä¼ä¸šå½¢è±¡ç‰‡ã€äº§å“å®£ä¼ ç‰‡</p></div><div class="service-item"><div class="service-number">03</div><h3>çŸ­è§†é¢‘å†…å®¹</h3><p>ç¤¾äº¤åª’ä½“çŸ­è§†é¢‘ã€ç—…æ¯’è§†é¢‘åˆ›æ„</p></div><div class="service-item"><div class="service-number">04</div><h3>å‰§æƒ…çŸ­ç‰‡</h3><p>æ•…äº‹æ€§å½±åƒåˆ›ä½œï¼Œç”µå½±æ„Ÿå™äº‹é£æ ¼</p></div></div></div></section>
<section class="contact" id="contact"><div class="container"><div class="section-title">CONTACT</div><h2 class="section-heading">è”ç³»æˆ‘ä»¬</h2><div class="contact-content"><p style="color:var(--text2)">å¦‚æœæ‚¨æœ‰é¡¹ç›®éœ€æ±‚æˆ–åˆä½œæ„å‘<br>æ¬¢è¿éšæ—¶ä¸æˆ‘ä»¬è”ç³»</p><div class="contact-info"><div class="contact-item"><h4>ç”µè¯</h4><p>${data.phone}</p></div>${data.wechat ? `<div class="contact-item"><h4>å¾®ä¿¡</h4><p>${data.wechat}</p></div>` : ''}${data.email ? `<div class="contact-item"><h4>é‚®ç®±</h4><p>${data.email}</p></div>` : ''}</div></div></div></section>
<footer><p>Â© 2024 ${data.companyName} | XUANRAN CULTURE</p></footer>
<script>document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener('click',e=>{e.preventDefault();document.querySelector(a.getAttribute('href')).scrollIntoView({behavior:'smooth'})})});function openVideo(bvid){var overlay=document.createElement('div');overlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:9999;display:flex;justify-content:center;align-items:center;';var closeBtn=document.createElement('button');closeBtn.innerHTML='âœ•';closeBtn.style.cssText='position:absolute;top:30px;right:40px;background:none;border:2px solid rgba(255,255,255,0.3);color:#fff;font-size:24px;cursor:pointer;width:50px;height:50px;border-radius:50%;';closeBtn.onclick=function(){document.body.removeChild(overlay);document.body.style.overflow=''};var container=document.createElement('div');container.style.cssText='width:90%;max-width:1200px;aspect-ratio:16/9;';var iframe=document.createElement('iframe');iframe.src='https://player.bilibili.com/player.html?bvid='+bvid+'&page=1';iframe.style.cssText='width:100%;height:100%;border:none;border-radius:8px;';iframe.allowFullscreen=true;container.appendChild(iframe);overlay.appendChild(closeBtn);overlay.appendChild(container);document.body.appendChild(overlay);document.body.style.overflow='hidden';overlay.addEventListener('click',e=>{if(e.target===overlay){document.body.removeChild(overlay);document.body.style.overflow=''}})}</script>
</body>
</html>`;
        }

        // ä¸Šä¼ åˆ°GitHub
        function uploadToGitHub(token, content) {
            // è·å–å½“å‰æ–‡ä»¶çš„SHA
            fetch('https://api.github.com/repos/jiang72353093-ai/xuanran-culture/contents/index.html', {
                headers: { 'Authorization': 'token ' + token }
            })
            .then(function(res) { return res.json(); })
            .then(function(data) {
                var sha = data.sha;
                // æ›´æ–°æ–‡ä»¶
                return fetch('https://api.github.com/repos/jiang72353093-ai/xuanran-culture/contents/index.html', {
                    method: 'PUT',
                    headers: {
                        'Authorization': 'token ' + token,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        message: 'Update website via admin panel',
                        content: btoa(unescape(encodeURIComponent(content))),
                        sha: sha
                    })
                });
            })
            .then(function(res) {
                if (res.ok) {
                    showToast('å‘å¸ƒæˆåŠŸï¼ç½‘ç«™å°†åœ¨30ç§’åæ›´æ–°');
                } else {
                    showToast('å‘å¸ƒå¤±è´¥ï¼Œè¯·æ£€æŸ¥Token');
                }
            })
            .catch(function(err) {
                showToast('å‘å¸ƒå¤±è´¥: ' + err.message);
            });
        }
    </script>
</body>
</html>
